<!DOCTYPE html>
<html>
    <head>
      <title>8i. heads and tails using localStorage</title>
    </head>
  <body>
    <p>
      <button onclick="
        playGame('heads');
        ">heads</button>

      <button onclick="
        playGame('tails');
        ">tails</button>
    </p>
    <p>
      <button onclick="
        console.log(newScore);
        ">Show score</button>

      <button onclick="
      newScore.wins = 0;
      newScore.looses = 0;
      console.log(newScore);
      localStorage.removeItem('newScore');
      ">Reset score</button>
    </p>
    
    <script>
      //Convert the JSON string to JS Object and get the score from localStorage
      //or Create an score object 
      //Create a function to play 
      //Use guess as arguments into play function
      //Craete a functino to generate a random number and return heads or tails for random value as result
      //Compare the result with the guess
      //Update the score object 
      //Convert the JS object into JSON string
      //Save the score string into localStorage
      //Show the result
      //Test GitHub
      let newScore = JSON.parse(localStorage.getItem('newScore')) || 
        {
          wins: 0,
          looses: 0
        };
      
      function playGame(guess) {
        const computerGuess = pickComputerGuess();
        const result = (guess === computerGuess) ? 'wins' : 'looses';

        if (result === 'wins') {
          newScore.wins++;
        } else {
          newScore.looses++;
        }

        localStorage.setItem('newScore', JSON.stringify(newScore));

        console.log('You:', guess);
        console.log('Computer:', computerGuess);
        console.log(result === 'wins' ? 'You win!' : 'You loose!');
        console.log(newScore);
      };

      function pickComputerGuess() {
        const randomNumber = Math.random();
        return computerGuess = randomNumber < 0.5 ? 'heads': 'tails';
      };
      
    </script>
  </body>
</html>